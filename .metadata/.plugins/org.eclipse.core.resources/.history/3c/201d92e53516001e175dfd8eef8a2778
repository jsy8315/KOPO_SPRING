package com.jsp.ex.command;

import com.jsp.ex.dao.BDao;

import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

import java.sql.Timestamp;

public class BWriteCommand implements BCommand {

    @Override
    public void execute(HttpServletRequest request, HttpServletResponse response) {
        String bName = request.getParameter("bName");
        String bTitle = request.getParameter("bTitle");
        String bContent = request.getParameter("bContent");
        Timestamp bDate = new Timestamp(System.currentTimeMillis()); // 문자열로 받아옴

        BDao dao = new BDao();
        dao.write(bName, bTitle, bContent, bDate);
        
        response.sendRedirect("boardList.jsp?bName=" + bName + "&bId=" + bId + "&bDate=" + bDate);
    }
}
